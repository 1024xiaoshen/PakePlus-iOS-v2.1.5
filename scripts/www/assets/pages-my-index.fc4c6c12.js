import{d as e,r as a,g as l,o as t,h as u,a as n,w as o,b as d,F as s,j as m,e as p,c as r,t as f,s as i,i as c,k as v,I as h,l as _,m as y,p as k,q as x,v as V,x as I,_ as C}from"./index.4395a4f2.js";const g=C(e({__name:"index",setup(e){const C=a({name:"",phone:"",email:"",address:""}),g=a(!1),T=a(l("familyList")||[]),U=a("add"),B=a({id:"",name:"",phone:"",remark:""}),F=()=>{g.value=!1,B.value={id:"",name:"",phone:"",remark:""}},w=e=>{C.value.name&&C.value.phone&&C.value.email?(e&&e.name?(B.value={id:e.id,name:e.name,phone:e.phone,remark:e.remark},U.value="edit"):(B.value={id:"",name:"",phone:"",remark:""},U.value="add"),g.value=!0):i({title:"请先填写个人信息",icon:"none"})},b=()=>{"add"===U.value?T.value.push({id:T.value.length+1,name:B.value.name,phone:B.value.phone,remark:B.value.remark}):"edit"===U.value&&T.value.forEach((e=>{e.id.toString()===B.value.id.toString()&&(e.name=B.value.name,e.phone=B.value.phone,e.remark=B.value.remark)})),F()};return(e,a)=>{const l=c,i=v,j=h,S=_(y("u-textarea"),x),q=_(y("u-button"),V),A=_(y("u-popup"),I);return t(),u(s,null,[n(l,{class:"myBox"},{default:o((()=>[n(l,{class:"myInfo"},{default:o((()=>[n(l,{class:"myInfoTitle"},{default:o((()=>[d("个人信息")])),_:1}),n(l,{class:"myInfoItem"},{default:o((()=>[n(i,null,{default:o((()=>[d("姓名")])),_:1}),n(j,{type:"text",placeholder:"请输入姓名",modelValue:C.value.name,"onUpdate:modelValue":a[0]||(a[0]=e=>C.value.name=e)},null,8,["modelValue"])])),_:1}),n(l,{class:"myInfoItem"},{default:o((()=>[n(i,null,{default:o((()=>[d("电话")])),_:1}),n(j,{type:"text",placeholder:"请输入电话",modelValue:C.value.phone,"onUpdate:modelValue":a[1]||(a[1]=e=>C.value.phone=e)},null,8,["modelValue"])])),_:1}),n(l,{class:"myInfoItem"},{default:o((()=>[n(i,null,{default:o((()=>[d("邮箱")])),_:1}),n(j,{type:"text",placeholder:"请输入邮箱",modelValue:C.value.email,"onUpdate:modelValue":a[2]||(a[2]=e=>C.value.email=e)},null,8,["modelValue"])])),_:1}),n(l,{class:"myInfoItem"},{default:o((()=>[n(i,null,{default:o((()=>[d("地址")])),_:1}),n(j,{type:"text",placeholder:"请输入地址",modelValue:C.value.address,"onUpdate:modelValue":a[3]||(a[3]=e=>C.value.address=e)},null,8,["modelValue"])])),_:1})])),_:1}),n(l,{class:"family"},{default:o((()=>[n(l,{class:"familyTitle"},{default:o((()=>[n(i,{class:"familyTitleText"},{default:o((()=>[d("紧急联系人")])),_:1}),n(i,{class:"addFamily",onClick:w},{default:o((()=>[d("添加")])),_:1})])),_:1}),T.value.length>0?(t(!0),u(s,{key:0},m(T.value,(e=>(t(),r(l,{class:"familyItem",key:e.id,onClick:a=>w(e)},{default:o((()=>[n(l,{class:"familyItemInfo"},{default:o((()=>[n(i,{class:"nameText"},{default:o((()=>[d(f(e.name),1)])),_:2},1024),n(i,{class:"phoneText"},{default:o((()=>[d(f(e.phone),1)])),_:2},1024)])),_:2},1024),n(l,{class:"deleteFamily",onClick:k((a=>{return l=e.id,void(T.value=T.value.filter((e=>e.id!==l)));var l}),["stop"])},{default:o((()=>[d(" 删除 ")])),_:2},1032,["onClick"])])),_:2},1032,["onClick"])))),128)):p("v-if",!0),0===T.value.length?(t(),r(l,{key:1,class:"noFamily"},{default:o((()=>[d(" 暂无紧急联系人，点击添加 ")])),_:1})):p("v-if",!0)])),_:1})])),_:1}),p(" 弹窗 "),n(A,{show:g.value,onClose:F,onOpen:w,mode:"center",round:10,safeAreaInsetBottom:!1},{default:o((()=>[n(l,{class:"popupBox"},{default:o((()=>[n(l,{class:"popupContentTitle"},{default:o((()=>[d(f("add"===U.value?"添加紧急联系人":"编辑紧急联系人"),1)])),_:1}),n(l,{class:"popupContentItem"},{default:o((()=>[n(i,null,{default:o((()=>[d("姓名")])),_:1}),n(j,{type:"text",placeholder:"请输入姓名",modelValue:B.value.name,"onUpdate:modelValue":a[4]||(a[4]=e=>B.value.name=e)},null,8,["modelValue"])])),_:1}),n(l,{class:"popupContentItem"},{default:o((()=>[n(i,null,{default:o((()=>[d("电话")])),_:1}),n(j,{type:"text",placeholder:"请输入电话",modelValue:B.value.phone,"onUpdate:modelValue":a[5]||(a[5]=e=>B.value.phone=e)},null,8,["modelValue"])])),_:1}),n(l,{class:"textarea"},{default:o((()=>[n(S,{modelValue:B.value.remark,"onUpdate:modelValue":a[6]||(a[6]=e=>B.value.remark=e),placeholder:"请输入留言内容，以备不时之需",maxlength:"500",height:"150",class:"textareaInput"},null,8,["modelValue"])])),_:1}),n(l,{class:"popupContentButton"},{default:o((()=>[n(q,{class:"confirmButton",type:"primary",text:"确定",onClick:b}),n(q,{class:"cancelButton",text:"取消",onClick:F})])),_:1})])),_:1})])),_:1},8,["show"])],64)}}}),[["__scopeId","data-v-1af66169"]]);export{g as default};
